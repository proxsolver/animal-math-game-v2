<!DOCTYPE html>
<html>
<head>
    <title>ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .success { color: green; }
        .error { color: red; }
        button { padding: 10px 20px; margin: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ§ª ë¡œê·¸ì¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ í…ŒìŠ¤íŠ¸ ê³„ì •</h2>
        <p><strong>ì•„ì´ë””:</strong> ì•„ë¹ </p>
        <p><strong>PIN:</strong> 9329</p>
    </div>
    
    <div class="test-section">
        <h2>ğŸ® ê²Œì„ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸</h2>
        <button onclick="openGameAndLogin()">ê²Œì„ ì—´ì–´ì„œ ë¡œê·¸ì¸ í•˜ê¸°</button>
        <div id="test-result"></div>
    </div>
    
    <script>
        function openGameAndLogin() {
            const resultDiv = document.getElementById('test-result');
            resultDiv.innerHTML = '<p>ê²Œì„ ì°½ì„ ì—´ê³  ìˆìŠµë‹ˆë‹¤...</p>';
            
            // ìƒˆ ì°½ì—ì„œ ê²Œì„ ì—´ê¸°
            const gameWindow = window.open('/', 'game', 'width=1200,height=800');
            
            if (!gameWindow) {
                resultDiv.innerHTML = '<p class="error">íŒì—…ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. íŒì—… ì°¨ë‹¨ì„ í•´ì œí•´ì£¼ì„¸ìš”.</p>';
                return;
            }
            
            // ê²Œì„ ë¡œë“œ í›„ ìë™ ë¡œê·¸ì¸ ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                try {
                    // ê²Œì„ ì°½ì´ ë¡œë“œë˜ë©´ ë¡œê·¸ì¸ ì •ë³´ ì…ë ¥
                    const nameInput = gameWindow.document.getElementById('player-name-input');
                    const pinInput = gameWindow.document.getElementById('player-pin-input');
                    
                    if (nameInput && pinInput) {
                        nameInput.value = 'ì•„ë¹ ';
                        pinInput.value = '9329';
                        
                        resultDiv.innerHTML = '<p class="success">âœ… ë¡œê·¸ì¸ ì •ë³´ê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤!</p><p>ê²Œì„ ì°½ì—ì„œ ë¡œê·¸ì¸ ë²„íŠ¼ì„ í´ë¦­í•´ì£¼ì„¸ìš”.</p>';
                        
                        // ë¡œê·¸ì¸ ë²„íŠ¼ì— í¬ì»¤ìŠ¤
                        const loginBtn = gameWindow.document.getElementById('login-btn');
                        if (loginBtn) {
                            loginBtn.focus();
                        }
                    } else {
                        resultDiv.innerHTML = '<p class="error">âŒ ë¡œê·¸ì¸ í¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê²Œì„ì´ ì™„ì „íˆ ë¡œë“œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>';
                    }
                } catch (error) {
                    resultDiv.innerHTML = `<p class="error">âŒ ì˜¤ë¥˜: ${error.message}</p><p>ê²Œì„ ì°½ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>`;
                }
            }, 3000);
        }
    </script>
</body>
</html>